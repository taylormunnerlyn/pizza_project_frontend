<!DOCTYPE html>
<html <% if (compile) { %>ng-app="todomvc" <% } %>ng-controller="MainController as MainCtrl">
    <head>
        <title>Todo</title>

        <meta name="viewport" content="width=device-width, initial-scale=1">

        <script>document.write('<base href="' + document.location + '">');</script>

        <!-- compiled CSS --><% styles.forEach(function(file) { %>
        <link rel="stylesheet" type="text/css" href="<%= file %>"><% }); %>
    </head>
    <body>
        <div ui-view="main"></div>

        <!-- compiled JavaScript --><% scripts.forEach(function (file) { %>
        <script type="text/javascript" src="<%= file %>"></script><% }); %>
        <script>
<% if (!compile) { %>
            System
                .import('app/app')
                .then(function () {
                    angular.element(document).ready(function () {
                        angular.bootstrap(document, ['todomvc']);
                    });
                })
                .catch(function (e) {
                    console.error(e.stack || e);
                });
<% } %>
        </script>
    </body>
</html>
